<!DOCTYPE html>
<html>

    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Builder Pattern in Java</title>
    <meta name="description" content="It’s been a while since my last post, so let’s take a look at how wecan abuse the Builder pattern in Java and Android!">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://yourdomain.com/java/2016/09/17/builders.html">
    <link rel="alternate" type="application/rss+xml" title="fyi." href="http://yourdomain.com/feed.xml" />


    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-52445936-14', 'auto');
        ga('send', 'pageview');

    </script>
</head>


    <body>

        <header class="site-header">

    <div class="wrapper">

        <div class="title-div">
            <a class="site-title" href="/">fyi.</a>
        </div>
    </div>

    <div class="wrapper">
        <nav class="site-nav">
            <a href="#" class="menu-icon">
                <svg viewBox="0 0 18 15">
                <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </a>

            <div class="trigger">
                
                <!-- Static 'Home' link -->
                <a class="page-link" href="/">Home</a>
                
                
                
                
                
                
                
                
            </div>
        </nav>

    </div>

</header>


        <div class="wrapper">
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- fyi - page - under header -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-3632636155475507"
             data-ad-slot="5572041490"
             data-ad-format="auto"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script> 
        </div>

        <div class="page-content">
            <div class="wrapper">
                <div class="post">

    <header class="post-header">
        <div class="buy-coffee-post-header">
            <a href='http://ko-fi.com?i=9152LY80MBJF' target='_blank' class="coffee-link">
                <img style='border:0px' width="150px" src='https://az743702.vo.msecnd.net/cdn/btn1.png' border='0' alt='Buy Me A Coffee at Ko-Fi.com' class="coffee-img"/>
            </a> 
        </div>
        <h1 class="post-title">Builder Pattern in Java</h1>
        <p class="post-meta">Sep 17, 2016</p>


    </header>

    <article class="post-content">
        <p>It’s been a while since my last post, so let’s take a look at how we
can abuse the Builder pattern in Java and Android!</p>

<h2 id="builder-pattern">Builder Pattern?</h2>

<p>If you’ve dabbled even just a bit with Android, you’ve probably seen the
builder pattern in action. In short, the pattern consists of a Builder class
which you use to construct an object of another class. For instance in Android
the pattern is used when you create a dialog:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Create the builder</span>
<span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">getContext</span><span class="o">());</span>

<span class="c1">// Build the object</span>
<span class="n">builder</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Warning!"</span><span class="o">)</span>
       <span class="o">.</span><span class="na">setMessage</span><span class="o">(</span><span class="s">"You're about to destroy your phone. Proceed?"</span><span class="o">)</span>
       <span class="o">.</span><span class="na">setPositiveButton</span><span class="o">(</span><span class="s">"Yeah"</span><span class="o">,</span> <span class="n">destroyClickListener</span><span class="o">)</span>
       <span class="o">.</span><span class="na">setNegativeButton</span><span class="o">(</span><span class="s">"Nah"</span><span class="o">,</span> <span class="kc">null</span><span class="o">)</span>
       <span class="o">.</span><span class="na">create</span><span class="o">()</span> <span class="c1">// &lt;-- AlertDialog created!</span>
       <span class="o">.</span><span class="na">show</span><span class="o">();</span></code></pre></figure>

<p>Seems rather simple! The best part is, your builder could provide default
values for properties (e.g. default title text), and you can create multiple
similar objects using the one and same builder. Neat! But wait, how does
this all work under the hood?</p>

<h2 id="builders-vs-constructors">Builders VS constructors</h2>

<p>Let’s take a simple example: you want a nifty way to create game NPCs. The
NPCs each have a distinct name. Our NPC class could look like this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NPC</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">NPC</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>So far so good. But wait, our NPCs each have a gender! Let’s add that:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NPC</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">male</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">NPC</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">isMale</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">male</span> <span class="o">=</span> <span class="n">isMale</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Still manageable. But now we’d like to have height, color of eyes, color of
hair, sexual preference and the favorite color for each NPC. Sigh…</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NPC</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">male</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">float</span> <span class="n">height</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span> <span class="n">eyeColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span> <span class="n">hairColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">sexualPreference</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span> <span class="n">favoriteColor</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">NPC</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span>
               <span class="kt">boolean</span> <span class="n">isMale</span><span class="o">,</span>
               <span class="kt">float</span> <span class="n">height</span><span class="o">,</span>
               <span class="n">Color</span> <span class="n">eyeColor</span><span class="o">,</span>
               <span class="n">Color</span> <span class="n">hairColor</span><span class="o">,</span>
               <span class="n">String</span> <span class="n">sexualPreference</span><span class="o">,</span>
               <span class="n">Color</span> <span class="n">favoriteColor</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">isMale</span> <span class="o">=</span> <span class="n">male</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">height</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">eyeColor</span> <span class="o">=</span> <span class="n">eyeColor</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">hairColor</span> <span class="o">=</span> <span class="n">hairColor</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">sexualPreference</span> <span class="o">=</span> <span class="n">sexualPreference</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">favoriteColor</span> <span class="o">=</span> <span class="n">favoriteColor</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Ehh… Not that nice anymore. So, let’s take a builder to aid us! A basic builder
would look like this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// Awesome builder for our NPCs</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Builder</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">Builder</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="c1">// Creates a new NPC</span>
    <span class="kd">public</span> <span class="n">NPC</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">NPC</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>There’s nothing fancy here yet - just a barebones builder you can use like this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Builder</span><span class="o">();</span>

<span class="n">NPC</span> <span class="n">shopkeeper</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>
<span class="n">NPC</span> <span class="n">blacksmith</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span></code></pre></figure>

<p>Nice! But all the NPCs are still the same. Let’s add a way of naming the NPCs:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Builder</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Builder</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">name</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">NPC</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">NPC</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Do note that the <code class="highlighter-rouge">name()</code> method returns the builder itself. This is useful for
method chaining - let’s get back to that in a moment.</p>

<p>Now we can name the NPCs whatever we like:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Builder</span><span class="o">();</span>

<span class="n">NPC</span> <span class="n">shopkeeper</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"Greedy Sven"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
<span class="n">NPC</span> <span class="n">blacksmith</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"Haegrid the Soot-faced"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span></code></pre></figure>

<p>See where we’re heading? We can now name each NPC how we like! Let’s just do
a small change to our builder and NPC classes - let’s pass the builder as an
argument to the NPC, and let’s also make the builder an inner static class of
NPC:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NPC</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="c1">// Note the private constructor!</span>
    <span class="kd">private</span> <span class="nf">NPC</span><span class="o">(</span><span class="n">NPC</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Get the name from the builder</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Builder</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">Builder</span><span class="o">()</span> <span class="o">{</span>

        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">name</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">NPC</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
            <span class="c1">// Pass the builder to the NPC as a parameter</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">NPC</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Now, if you try to construct an NPC without a builder, you… well, you can’t.
We marked our NPC’s constructor as private, so it can only be called from the
“inside”. Now, the usage changed only slightly:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// NPC.Builder instead of just Builder</span>
<span class="n">NPC</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NPC</span><span class="o">.</span><span class="na">Builder</span><span class="o">();</span>

<span class="n">NPC</span> <span class="n">shopkeeper</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"Greedy Sven"</span><span class="o">).</span><span class="na">build</span><span class="o">();</span></code></pre></figure>

<p>To wrap it all up, let’s add all the original fields to our NPC and Builder
classes AND let’s make some of the fields have a default value:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">NPC</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">male</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">float</span> <span class="n">height</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span> <span class="n">eyeColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span> <span class="n">hairColor</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">sexualPreference</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Color</span> <span class="n">favoriteColor</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">NPC</span><span class="o">(</span><span class="n">Builder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">male</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">male</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">height</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">eyeColor</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">eyeColor</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">hairColor</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">hairColor</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">sexualPreference</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">sexualPreference</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">favoriteColor</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">favoriteColor</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Builder</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">male</span><span class="o">;</span>
        <span class="kd">private</span> <span class="kt">float</span> <span class="n">height</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">Color</span> <span class="n">eyeColor</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="na">GREEN</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">Color</span> <span class="n">hairColor</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="na">POO</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">sexualPreference</span> <span class="o">=</span> <span class="s">"Carnivore"</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">Color</span> <span class="n">favoriteColor</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="na">OCTARINE</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">Builder</span><span class="o">()</span> <span class="o">{</span>

        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">name</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">male</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">male</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">female</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">male</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
            <span class="k">return</span> <span class="n">ths</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">height</span><span class="o">(</span><span class="kt">float</span> <span class="n">height</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="n">height</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">eyes</span><span class="o">(</span><span class="n">Color</span> <span class="n">eyeColor</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">eyeColor</span> <span class="o">=</span> <span class="n">eyeColor</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">hair</span><span class="o">(</span><span class="n">Color</span> <span class="n">hairColor</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">hairColor</span> <span class="o">=</span> <span class="n">hairColor</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">prefers</span><span class="o">(</span><span class="n">String</span> <span class="n">preference</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">sexualPreference</span> <span class="o">=</span> <span class="n">preference</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">Builder</span> <span class="nf">favoriteColor</span><span class="o">(</span><span class="n">Color</span> <span class="n">favColor</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">favoriteColor</span> <span class="o">=</span> <span class="n">favColor</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="n">NPC</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">NPC</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Phew! A bit lengthy example, but it really pays off. Let’s have a look at how
we’ll use this newly-introduced builder:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">NPC</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NPC</span><span class="o">.</span><span class="na">Builder</span><span class="o">();</span>

<span class="c1">// A default NPC</span>
<span class="n">NPC</span> <span class="n">justSomeGal</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// A black-haired man with some odd hobbies</span>
<span class="n">NPC</span> <span class="n">duckLover</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">male</span><span class="o">().</span><span class="na">prefers</span><span class="o">(</span><span class="s">"Poultry"</span><span class="o">).</span><span class="na">hair</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">BLACK</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>

<span class="c1">// ... and his wife, who also has the same hobby and black hair</span>
<span class="n">NPC</span> <span class="n">duckLoversWife</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">female</span><span class="o">().</span><span class="na">build</span><span class="o">();</span></code></pre></figure>

<p>It becomes really easy to adjust the parameters, to create similar objects, and
the creation becomes more legible.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Builders are a neat way of constructing complex objects. They’re an awesome solution
if you ever have a big list of properties you want to define for an object.
For classes with just one or two constructor arguments, you’re better off without
a builder - either create the objects directly or use a static factory method.</p>

    </article>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- fyi - post - bottom -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-3632636155475507"
         data-ad-slot="5770517898"
         data-ad-format="auto"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>

</div>

            </div>
        </div>

        <div class="wrapper">
    <footer class="site-footer">

        <div class="coffee-wrapper">
            <a href='http://ko-fi.com?i=9152LY80MBJF' target='_blank' class="coffee-link">
                <img style='border:0px' width="150px" src='https://az743702.vo.msecnd.net/cdn/btn1.png' border='0' alt='Buy Me A Coffee at Ko-Fi.com' class="coffee-img"/>
            </a> 
        </div>
        
        
        <div class="some-wrapper">
            <a href="https://twitter.com/dManabreak">
                <span class="icon  icon--twitter">
                    <svg viewBox="0 0 16 16">
                    <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                          c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                    </svg>
                </span>

                <span class="username">dManabreak</span>
            </a>
        </div>
        

        <p class="rss-subscribe">subscribe <a href="/feed.xml">via RSS</a></p>

        

    </footer>
</div>


    </body>

</html>
